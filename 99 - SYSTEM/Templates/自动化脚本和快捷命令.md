# 自动化脚本和快捷命令

## 1. 创建今日日记的快捷命令

在Templater中创建以下脚本，保存为 `99 - SYSTEM/Templates/create_daily_note.js`：

```javascript
<%*
const date = tp.date.now("YYYY-MM-DD");
const week = "[[" + tp.date.now("YYYY-[W]ww") + "]]";
const month = "[[" + tp.date.now("YYYY-MM") + "]]";
const title = "cockpit | " + tp.date.now("dddd, YYYY-MM-DD");

const content = `---
tags: daily
date: ${date}
week: ${week}
month: ${month}
---

# ${title}

> [!quote] 今日引言
> > 思考的价值在于连接，而不在于记忆。

---

### § 1. 晨间校准 (Morning Briefing)
*今日航向：明确目标，轻装上阵。*

**🎯 本日三大核心目标 (Top 3 Priorities):**
- [ ] 
- [ ] 
- [ ] 

**🗓️ 今日关键日程 (Scheduled Events):**
*在此处链接今日的会议笔记，会议中直接点击链接进入记录*
- [[${date} - 会议名称1]]
- [[${date} - 会议名称2]]

---

### § 2. 实时战术记录 (Workbench Log)
*捕捉一切：想法、数据、对话。在这里进行"链接式思考"。*

- **09:00** 
- 

---

### § 3. 信息处理与原子化 (Info Triage)
*清空INBOX，将外部信息转化为内部洞见。*

**📥 INBOX 清理:**
- [ ] 今日是否已处理 \`00 - INBOX\` 中的所有暂存信息？

**⚛️ 今日生成的新思想原子 (New Atoms Created):**
*处理信息后，在这里链接今日创建或深度加工的ATOMS笔记*
- **概念**: 
- **模型**: 
- **情报**: 

---

### § 4. 晚间复盘与洞察合成 (Evening Review & Synthesis)

> [!success] **本日成果 (Key Accomplishments):**
> - 

<br>

> [!multi-line] **🔥 洞察发现引擎 (Connection Discovery Engine) 🔥**
> 
> **这是今日最有价值的5分钟。打开右侧面板的"反向链接"。**
> 
> 1. **检查"链接提及"**: 回顾我今天主动建立了哪些有价值的连接？
>    - 
> 
> 2. **审视"未链接提及"**: Obsidian帮我发现了哪些被我忽略的潜在连接？（点击"链接"按钮建立关系）
>    - 
> 
> **💡 基于以上发现，我今天最大的洞察或"啊哈"时刻是什么？**
> *这个洞察是关于一个[[新产品机会]]？还是关于[[某个项目风险]]？或是对[[某个技术概念]]的更深理解？*
> - 
> 

<br>

> [!question] **遗留问题与明日思考 (Open Loops & Next Day's Questions):**
> *今天有什么问题没有解决？我的思考卡在了哪里？这个问题值得创建一个[[MOC]]来持续孵化吗？*
> - 
`;

const fileName = \`10 - COCKPIT/Daily/\${date}.md\`;
await tp.file.create_new(content, fileName, true);
%>
```

## 2. 创建会议纪要模板

保存为 `99 - SYSTEM/Templates/create_meeting_note.js`：

```javascript
<%*
const date = tp.date.now("YYYY-MM-DD");
const meetingName = await tp.system.prompt("会议名称");
const time = await tp.system.prompt("会议时间", "14:00-16:00");
const location = await tp.system.prompt("会议地点", "会议室A");

const content = `# ${date} - ${meetingName}

**时间**: ${time}
**地点**: ${location}
**参会人员**: 我, [[张三]], [[李四]]

---

### 会议目标

${await tp.system.prompt("会议目标", "讨论项目进展和下一步计划")}

---

### 关键讨论

> [!important] 决策点
- **决策1**: ${await tp.system.prompt("主要决策1", "")}
- **决策2**: ${await tp.system.prompt("主要决策2", "")}

> [!discussion] 讨论要点
- ${await tp.system.prompt("讨论要点1", "")}
- ${await tp.system.prompt("讨论要点2", "")}

---

### 行动项

| 任务 | 负责人 | 截止日期 | 状态 |
|------|--------|----------|------|
| ${await tp.system.prompt("行动项1", "")} | [[负责人]] | ${await tp.system.prompt("截止日期", "YYYY-MM-DD")} | ⏳ |

---

### 相关链接

- **关联项目**: [[项目名称]]
- **相关概念**: [[概念1]], [[概念2]]
- **后续会议**: ${await tp.system.prompt("下次会议时间", "")}

---

### 会议笔记

${await tp.system.prompt("会议记录", "详细记录会议内容和讨论要点")}
`;

const fileName = \`40 - OPERATIONS/Meetings/\${date} - \${meetingName}.md\`;
await tp.file.create_new(content, fileName, true);
%>
```

## 3. 创建项目笔记模板

保存为 `99 - SYSTEM/Templates/create_project_note.js`：

```javascript
<%*
const projectName = await tp.system.prompt("项目名称");
const projectGoal = await tp.system.prompt("项目目标");

const content = `# ${projectName}

**日期**: ${tp.date.now("YYYY-MM-DD")}
**状态**: #进行中
**负责人**: 我
**相关方**: ${await tp.system.prompt("相关方", "张三, 李四")}

---

### 项目目标

> [!info] 核心目标
${projectGoal}

---

### 应用模型

- [[SMART法则]]: 
  - **task_goal**: ${await tp.system.prompt("SMART目标", "")}
  - **outcome**: (项目结束后填写)

---

### 任务分解

| 任务 | 负责人 | 截止日期 | 状态 |
|------|--------|----------|------|
| ${await tp.system.prompt("任务1", "")} | [[负责人]] | ${await tp.system.prompt("截止日期", "YYYY-MM-DD")} | ⏳ |

---

### 关键链接

- **会议纪要**: [[会议纪要]]
- **相关概念**: [[概念1]], [[概念2]]
- **技术文档**: [[文档链接]]

---

### 进度记录

> [!timeline] 时间线
- **${tp.date.now("YYYY-MM-DD")}**: 项目启动
- **(后续日期)**: {{重要进展}}

---

### 项目复盘

> [!checklist] 复盘要点
- [ ] 目标达成情况
- [ ] 遇到的挑战
- [ ] 学到的经验
- [ ] 改进方向
`;

const fileName = \`40 - OPERATIONS/Projects/\${projectName}.md\`;
await tp.file.create_new(content, fileName, true);
%>
```

## 4. 快捷键设置

在Obsidian设置中，为以下操作设置快捷键：

- **创建今日日记**: Ctrl+Shift+D
- **创建会议纪要**: Ctrl+Shift+M  
- **创建项目笔记**: Ctrl+Shift+P
- **打开指挥中心**: Ctrl+Shift+C

## 5. Dataview查询优化

在指挥中心中使用的查询代码，确保性能优化：

```javascript
// 高性能任务查询
dv.taskList(
    dv.pages().file.tasks
        .where(t => !t.completed && t.due && t.due.toISODate() === dv.date('today').toISODate())
        .sort(t => {
            if (t.priority === 'high') return 1;
            if (t.priority === 'medium') return 2;
            return 3;
        })
    , false
);
```

## 6. 自动备份设置

建议设置自动备份，确保数据安全：

```json
{
  "backup": {
    "enabled": true,
    "interval": "daily",
    "location": "backups",
    "maxBackups": 30
  }
}
```

---

## 使用说明

1. **每日开始**: 使用快捷键 Ctrl+Shift+D 创建今日日记
2. **创建会议**: 使用快捷键 Ctrl+Shift+M 创建会议纪要
3. **新建项目**: 使用快捷键 Ctrl+Shift+P 创建项目笔记
4. **查看全局**: 使用快捷键 Ctrl+Shift+C 打开指挥中心

所有创建的笔记都会自动使用模板，并建立相应的链接关系。