# 概念: 词汇表映射 (Vocabulary Mapping)

**标签**: #技术概念/NLP #数据预处理
**来源**: [[MOC - LLM如何理解文字]]

---

> [!abstract] 核心概念
> 词汇表映射是指，通过一个预先构建好的巨大"字典"（词汇表, Vocabulary），将[[分词 (Tokenization)]]后得到的每一个Token，转换为一个独一无二的数字标识（ID）。这个过程是文本"数字化"的关键环节。

### 核心要素
- **词汇表 (Vocabulary)**: 一个包含了模型所有认识的Token及其对应ID的巨大查找表。
- **ID (Identifier)**: 每个Token的唯一数字编号。
- **特殊Token**: 如`<PAD>`（填充）、`<UNK>`（未知词）、`<BOS>`（开始）、`<EOS>`（结束）等。

### 词汇表构建策略
- **基于频率**: 选择最常见的N个Token
- **基于覆盖率**: 确保训练数据的覆盖率达到特定阈值
- **动态扩展**: 允许在推理时处理新词

### 典型词汇表规模
- **小型模型**: 30K-50K Tokens
- **中型模型**: 50K-100K Tokens  
- **大型模型**: 100K-250K+ Tokens

### 质询与思辨
> [!question] 我的质询
> - **词汇表的大小是一个关键参数，它对产品有何影响？** 词汇表越大，能覆盖的词越多，但模型也更庞大；词汇表越小，模型更轻量，但可能会遇到更多"未登录词"（OOV, Out-of-Vocabulary）。
> - 如果用户输入了一个词汇表中没有的词（比如一个罕见的专有名词），系统会如何处理？是会报错，还是会用一个特殊的`<UNK>`（Unknown）标记来代替？这对用户体验意味着什么？

### 产品设计考虑
> [!idea] 产品经理视角
> - **性能vs覆盖率的权衡**: 移动端应用可能需要更小的词汇表
> - **领域适配性**: 垂直领域可能需要扩展词汇表
> - **用户体验**: 未登录词的处理方式直接影响用户感知
> - **更新策略**: 词汇表如何与时俱进地更新

### 实际应用案例
- **搜索引擎**: 需要处理大量专业术语和新词
- **聊天机器人**: 需要理解网络用语和口语化表达
- **教育应用**: 需要准确处理学科术语

### 技术挑战
- **内存占用**: 大词汇表需要更多存储空间
- **查找效率**: 快速映射需要高效的数据结构
- **多语言支持**: 不同语言的词汇表管理

### 行动项
- [ ] 调研主流LLM的词汇表规模和构建策略
- [ ] 分析B站教育内容的词汇特点
- [ ] 设计针对K12教育的词汇表优化方案

**学习状态**: #质询中  
**创建日期**: <% tp.date.now("YYYY-MM-DD") %>